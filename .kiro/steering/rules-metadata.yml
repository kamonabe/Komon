version: 1.3.0
updated: '2025-12-10'
description: Kiroが処理するステアリングルールのメタデータ

# Context効率化のための読み込み戦略
# - initial_load: true  = 常に最初に読み込む（軽量ルールのみ）
# - initial_load: false = オンデマンドで読み込む（詳細ルール）

# 階層構造の定義（仕様駆動開発の観点）
hierarchy:
  level-1:  # 常に読み込む（概要）
    description: "初期読み込み時に必ず読み込むルール"
    target-size: "約200行"
    purpose: "基本的な質問に即答、最低限のルール"
    rules:
      - essential-rules
  
  level-2:  # オンデマンド読み込み（詳細）
    description: "必要に応じて読み込むルール"
    target-size: "約3,000行"
    purpose: "詳細な質問、実装時の参照"
    rules:
      - versioning-rules
      - development-workflow
      - task-management
      - spec-quality-assurance
      - testing-strategy
      - git-workflow
      - release-process
      - error-handling-and-logging
      - commit-message-rules
  
  level-3:  # 実装時に読み込む（全体）
    description: "実装開始時に全て読み込む"
    target-size: "全ルール（約3,200行）"
    purpose: "実装品質の保証、全ルールの適用"
    triggers:
      - implementation-start
      - task-start

rules:
  essential-rules:
    priority: critical
    applies-to: [all]
    triggers: [always]
    initial_load: true
    description: 最低限の必須ルール（超軽量版）
  
  # オンデマンド読み込みルール（キーワード自動判定）
  versioning-rules:
    priority: high
    keywords: ["バージョン", "リリース", "MAJOR", "MINOR", "PATCH", "semver"]
    file_path: "steering-detailed/versioning-rules.md"
    auto_load: true
    applies-to: [release, versioning, changelog]
    triggers: [implementation-complete, changelog-update]
    description: Semantic Versioningに基づくバージョン番号の決定ルール
  
  development-workflow:
    priority: high
    keywords: ["TASK-", "実装", "開発開始", "Spec作成", "仕様駆動"]
    file_path: "steering-detailed/development-workflow.md"
    auto_load: true
    applies-to: [implementation, spec-creation, task-management]
    triggers: [task-start, spec-creation, implementation-start]
    description: 仕様駆動開発のワークフロー
    
  git-workflow:
    priority: high
    keywords: ["ブランチ", "マージ", "コミット", "push", "git"]
    file_path: "steering-detailed/git-workflow.md"
    auto_load: true
    applies-to: [implementation, git-operations]
    triggers: [implementation-start, merge]
    description: Git運用ルールとブランチ戦略
    
  testing-strategy:
    priority: high
    keywords: ["テスト", "カバレッジ", "プロパティテスト", "pytest"]
    file_path: "steering-detailed/testing-strategy.md"
    auto_load: true
    applies-to: [implementation, testing]
    triggers: [test-creation, implementation-complete]
    description: テスト戦略と品質基準
    
  task-management:
    priority: medium
    keywords: ["タスク番号", "TASK-", "implementation-tasks", "タスク管理"]
    file_path: "steering-detailed/task-management.md"
    auto_load: true
    applies-to: [task-management]
    triggers: [task-complete, task-update]
    description: タスク管理の2階層構造ルール
    
  spec-quality-assurance:
    priority: high
    keywords: ["Spec", "requirements", "design", "品質保証", "検証"]
    file_path: "steering-detailed/spec-quality-assurance.md"
    auto_load: true
    applies-to: [spec-creation, implementation-start]
    triggers: [spec-complete, implementation-start]
    description: Spec品質保証と検証スクリプト実行ルール
    
  release-process:
    priority: high
    keywords: ["リリース", "GitHub Releases", "PyPI", "タグ"]
    file_path: "steering-detailed/release-process.md"
    auto_load: true
    applies-to: [release]
    triggers: [implementation-complete, release]
    description: リリースプロセスと最終確認
    
  error-handling-and-logging:
    priority: medium
    keywords: ["エラー", "ログ", "例外", "print", "logging"]
    file_path: "steering-detailed/error-handling-and-logging.md"
    auto_load: true
    applies-to: [implementation, error-handling]
    triggers: [code-implementation]
    description: エラーハンドリングとログ出力の標準
    
  commit-message-rules:
    priority: low
    keywords: ["コミットメッセージ", "Conventional Commits", "feat", "fix"]
    file_path: "steering-detailed/commit-message-rules.md"
    auto_load: true
    applies-to: [commit]
    triggers: [commit-creation]
    description: Conventional Commits形式のコミットメッセージルール