# ステアリングルールのメタデータ
# 各ルールファイルの先頭に追加するFront Matter用

rules:
  versioning-rules:
    priority: high
    applies-to:
    - release
    - versioning
    - changelog
    triggers:
    - implementation-complete
    - changelog-update
    description: Semantic Versioningに基づくバージョン番号の決定ルール
    
  development-workflow:
    priority: high
    applies-to:
    - implementation
    - spec-creation
    - task-management
    triggers:
    - task-start
    - spec-creation
    - implementation-start
    description: 仕様駆動開発のワークフロー
    
  task-management:
    priority: medium
    applies-to:
    - task-management
    triggers:
    - task-complete
    - task-update
    description: タスク管理の2階層構造ルール
    
  spec-quality-assurance:
    priority: high
    applies-to:
    - spec-creation
    - implementation-start
    triggers:
    - spec-complete
    - implementation-start
    description: Spec品質保証と検証スクリプト実行ルール
    
  error-handling-and-logging:
    priority: medium
    applies-to:
    - implementation
    - error-handling
    triggers:
    - code-implementation
    description: エラーハンドリングとログ出力の標準
    
  environment-and-communication:
    priority: high
    applies-to:
    - all
    triggers:
    - always
    description: 開発環境とコミュニケーション言語のルール
    
  commit-message-rules:
    priority: low
    applies-to:
    - commit
    triggers:
    - commit-creation
    description: Conventional Commits形式のコミットメッセージルール
    
  ai-security-guardrails:
    priority: critical
    applies-to:
    - all
    - spec-creation
    - implementation
    - code-review
    triggers:
    - always
    - user-input
    - file-upload
    - code-generation
    description: AI自身が機密情報を検知して警告するガードレール

# 使用例:
# - implementation-start時: development-workflow, spec-quality-assurance を優先
# - implementation時: error-handling-and-logging を参照
# - release時: versioning-rules を優先
# - 常時: ai-security-guardrails, environment-and-communication を監視
