# Komon Specs

**このディレクトリは、Kiroが処理する機械可読な仕様書です。**

人間が直接読む必要はありません。詳細はKiroに質問してください。

---

## 🤖 Kiro向けの情報

### ファイル構造

```
.kiro/specs/
├── README.md                    # このファイル
├── future-ideas.md              # アイデア管理（人間が編集）
├── komon-system.md              # システム全体の概要
├── testing-strategy.md          # テスト戦略
├── _templates/                  # Specテンプレート
│   ├── requirements.yml
│   ├── design.yml
│   └── tasks.yml
└── {feature-name}/              # 機能別Spec（YAML形式）
    ├── requirements.yml         # 要件定義（構造化）
    ├── design.yml               # 設計書（構造化）
    └── tasks.yml                # タスクリスト（構造化）
```

### Specファイルの形式

全てのSpecは**YAML形式**で記述されています：

- **requirements.yml**: 受入基準、ユーザーストーリー、WHEN-THEN条件
- **design.yml**: 正確性プロパティ、モジュール設計、テスト戦略
- **tasks.yml**: タスクリスト、依存関係、完了条件

### Kiroの処理フロー

1. **Spec読み込み**: YAMLをパースして構造化データとして処理
2. **トレーサビリティ確認**: AC → Property → Task の関連を検証
3. **実装**: design.ymlの設計に基づいてコード生成
4. **テスト**: tasks.ymlのvalidatesフィールドに基づいてテスト作成

---

## 👤 人間向けの情報

### 基本的な使い方

**Specファイル（.yml）は直接読まないでください。**

代わりに、Kiroに質問してください：

```
「TASK-001の要件を教えて」
「disk-trend-predictionの設計を説明して」
「notification-historyの受入基準は？」
「次に実装すべきタスクは？」
```

### 新しいアイデアを追加

1. `future-ideas.md`に追加（人間が編集）
2. Kiroに「IDEA-XXXを実装タスクに追加して」と依頼

### 実装を開始

```
「TASK-XXXを実装しよう」
```

Kiroが自動的に：
1. Specを読み込み
2. ブランチ確認
3. 実装開始

### Specを確認

```
「disk-trend-predictionの概要を教えて」
「AC-001の詳細は？」
「Property 1は何をテストする？」
```

### 進捗を確認

```
「完了したタスクは？」
「未完了のタスクは？」
「TASK-001の進捗は？」
```

---

## 🎯 設計思想

### なぜYAML形式なのか？

1. **機械可読性**: Kiroが正確に処理できる
2. **構造化**: トレーサビリティが明確
3. **検証可能**: スキーマ検証が可能
4. **メンテナンス性**: 人間が直接編集しないので、一貫性が保たれる

### 人間とKiroの役割分担

```
人間の役割:
- アイデアを出す
- 意思決定をする
- 最終確認をする
- README.mdだけ読む

Kiroの役割:
- Specを読み込む
- 実装する
- テストする
- ドキュメント更新
- YAMLファイルを管理
```

### メリット

- ✅ ドキュメントメンテナンスの負担が激減
- ✅ 常に最新の情報（Kiroが管理）
- ✅ トレーサビリティが明確
- ✅ 検証スクリプトが正確に動作
- ✅ 人間は意思決定に集中できる

---

## 📚 参考情報

### Specの詳細を知りたい場合

Kiroに聞いてください：

```
「requirements.ymlの構造を教えて」
「design.ymlには何が含まれる？」
「tasks.ymlのフィールドは？」
```

### Specを編集したい場合

Kiroに依頼してください：

```
「TASK-001の受入基準を追加して」
「disk-trend-predictionの設計を修正して」
「Property 2の説明を改善して」
```

### トラブルシューティング

**Q: YAMLファイルが読めない**
→ 読む必要はありません。Kiroに聞いてください。

**Q: Specを直接編集したい**
→ Kiroに依頼してください。手動編集は推奨しません。

**Q: 古いMarkdownファイルはどこ？**
→ YAML化されました。履歴はgitで確認できます。

---

## ✨ まとめ

- **人間**: README.mdだけ読む、詳細はKiroに聞く
- **Kiro**: YAMLファイルを処理する
- **役割分担**: 人間は意思決定、Kiroは実装

**これがAI時代の開発スタイルです。**
