metadata:
  title: 段階的閾値通知 - 実装タスク
  feature: progressive-threshold
  status: completed
  created: 2025-11-23
  updated: 2025-11-25
tasks:
- id: T1
  title: "設定バリデータモジュールの作成\n  - `ThresholdLevel` 列挙型の定義\n  - `validate_threshold_config()`\
    \ 関数の実装\n  - 従来形式と3段階形式の両方をサポート\n  - 閾値の順序検証（警告 < 警戒 < 緊急）\n  - 包括的なエラーメッセージの追加\n\
    \  - _要件: AC-001, AC-002, AC-006_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T2
  title: "settings.ymlに3段階設定を追加\n  - 3段階閾値設定の例を追加\n  - 従来形式のサポートをドキュメント化\n  - 各レベルを説明するコメントを追加\n\
    \  - デフォルト値を設定（70/80/90）\n  - _要件: AC-001_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T3
  title: "アナライザーに3段階ロジックを追加\n  - 設定バリデータをインポート\n  - `determine_threshold_level()`\
    \ 関数の実装\n  - `analyze_metrics()` を3段階ロジックに更新\n  - 従来の閾値との後方互換性を維持\n  - レベル別メッセージ生成を追加\n\
    \  - _要件: AC-002, AC-003_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T4
  title: "メッセージテンプレートシステムの作成\n  - `MESSAGE_TEMPLATES` 辞書の定義\n  - 各レベルを絵文字とメッセージプレフィックスにマッピング\n\
    \  - メッセージフォーマット関数の実装\n  - 日本語メッセージテンプレートのサポート\n  - _要件: AC-004_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T5
  title: "プロパティベーステストの作成\n  - プロパティ1: 閾値の順序性\n  - プロパティ2: レベル判定の正確性\n  - プロパティ3: 後方互換性\n\
    \  - プロパティ4: メッセージの一貫性\n  - プロパティ5: 設定の検証\n  - _要件: AC-001, AC-002, AC-003, AC-004,\
    \ AC-006_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T6
  title: "ユニットテストの作成\n  - 3段階閾値検知のテスト\n  - メッセージテンプレート選択のテスト\n  - 絵文字割り当てのテスト\n  -\
    \ 無効な設定処理のテスト\n  - エッジケースのテスト（閾値ちょうどの値、負の値）\n  - _要件: 全て_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T7
  title: "統合テストの作成\n  - 3段階レベルでのエンドツーエンド閾値検知のテスト\n  - 適切なメッセージでの通知生成のテスト\n  - 設定ファイル読み込みのテスト\n\
    \  - 従来設定との後方互換性のテスト\n  - _要件: AC-002, AC-005_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T8
  title: "ドキュメントの更新\n  - 3段階閾値設定セクションの追加\n  - 設定例の提供\n  - 各閾値レベルの意味を説明\n  - 従来形式からの移行ガイドを追加\n\
    \  - _要件: 全て_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T9
  title: "CHANGELOGの更新\n  - 新しい3段階閾値機能をドキュメント化\n  - 後方互換性について記載\n  - 設定変更をリスト化\n \
    \ - _要件: 全て_"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
- id: T10
  title: "全テストスイートの実行\n  - すべてのテストを実行\n  - カバレッジを確認\n  - 160テストがすべてパス\n  - カバレッジ93%を維持\n\
    \  - _要件: 全て_\n\n## 受入基準チェックリスト"
  status: done
  priority: high
  estimated-hours: 2
  depends-on: []
  validates: []
