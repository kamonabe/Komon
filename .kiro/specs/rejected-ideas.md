---
title: Komon - Rejected Ideas
status: rejected
version: draft
created: 2025-11-21
---

# Komon 見送りアイデア

このドキュメントは、**検討したが実装を見送った**アイデアを記録します。

## 📖 このファイルの位置づけ

### 見送りアイデアとは

**対象**: 検討したが、Komonの方針に合わないと判断したアイデア

**特徴**:
- 技術的には可能だが、Komonの思想と相反する
- 既存ツールで代替可能
- 実装・保守コストが高すぎる
- ターゲットユーザーから逸脱する

**future-ideas.md との違い**:
- future-ideas.md: 将来実装する可能性がある機能
- rejected-ideas.md: 実装しないことを明確に決定した機能

**なぜ記録するのか**:
- 「検討していない」と「検討して見送った」は全く違う
- 将来、同じ議論が起きた時の判断材料になる
- 「なぜやらないのか」を明確にする

---

## 🚫 検討したが見送り

### [REJECTED-001] ダッシュボード機能

**提案日**: 2025-11-21  
**判断日**: 2025-11-21  
**ステータス**: 見送り

#### 理由

- **Komonの「軽量・シンプル」思想と相反**
  - Komonは「CLIベースの軽量ツール」として設計
  - ダッシュボードは複雑化を招く
  - 実装・保守コストが高い

- **既存ツールで十分**
  - Grafana等の既存ツールで十分
  - Komonが車輪の再発明をする必要はない

- **ターゲットユーザーから逸脱**
  - Komonのターゲット: 個人開発者・小規模環境
  - ダッシュボードはエンタープライズ向け機能

#### 代替案

**履歴データをPrometheus形式でエクスポート**
```python
# src/komon/exporters/prometheus.py
def export_to_prometheus(data):
    """Prometheus形式でエクスポート"""
    metrics = []
    metrics.append(f'komon_cpu_usage {data["cpu"]}')
    metrics.append(f'komon_memory_usage {data["memory"]}')
    metrics.append(f'komon_disk_usage {data["disk"]}')
    return '\n'.join(metrics)
```

**外部ツールとの連携を推奨**
- Grafana: ダッシュボード
- Prometheus: メトリクス収集
- InfluxDB: 時系列データベース

#### 将来の再検討条件

以下の条件が揃った場合、再検討する可能性がある：
- Komonのユーザー数が大幅に増加（1,000人以上）
- ダッシュボード機能への強い要望が多数寄せられる
- 軽量なダッシュボード実装の方法が見つかる

ただし、現時点では**実装しない**ことを明確に決定。

---

### [REJECTED-002] 複数サーバ集中管理（FastAPIベースのKomon Agent化）

**提案日**: 2025-11-21  
**判断日**: 2025-11-21  
**ステータス**: 見送り

#### 理由

- **エンタープライズ向け機能**
  - Komonのターゲット（個人開発者・小規模環境）から逸脱
  - 複数サーバ管理はZabbix等の既存ツールを使うべき領域

- **実装・保守コストが高い**
  - 各サーバにKomon Agent（FastAPIベース）を常駐させる必要
  - 中央サーバ（Komon Manager）の実装が必要
  - セキュリティ・運用面での考慮事項が多い

- **Komonの「軽量・シンプル」思想と相反**
  - 複雑なアーキテクチャになる
  - 保守コストが大幅に増加
  - Komonの魅力が失われる

#### 補足

**当初の構想**:
```
各サーバにKomon Agent（FastAPIベース）を常駐
  ↓
中央サーバ（Komon Manager）が各AgentにHTTPリクエスト
  ↓
状態を収集・集約
  ↓
一元管理
```

**問題点**:
- セキュリティ: 認証・認可の実装が必要
- ネットワーク: ファイアウォール設定が必要
- 運用: Agent のバージョン管理が必要
- 複雑性: Komonの軽量設計が崩れる

#### 代替案

**SSHベースの簡易的な集中管理**
```bash
# 各サーバでKomonを実行
for server in server1 server2 server3; do
  ssh $server "komon advise" >> /tmp/komon-report.txt
done
```

**ログ共有ディレクトリ方式**
```bash
# 各サーバがログを共有ディレクトリに出力
# 中央サーバが定期的に収集
```

**既存ツールの使用を推奨**
- Zabbix: エンタープライズ向け監視
- Nagios: 複数サーバ監視
- Ansible: 複数サーバ管理

#### 将来の再検討条件

以下の条件が揃った場合、再検討する可能性がある：
- Komonのユーザー数が大幅に増加（10,000人以上）
- 複数サーバ管理への強い要望が多数寄せられる
- 軽量な実装方法が見つかる

ただし、現時点では**実装しない**ことを明確に決定。

---

### [REJECTED-003] GUI化（Webダッシュボード）

**提案日**: 2025-11-21  
**判断日**: 2025-11-21  
**ステータス**: 見送り

#### 理由

- **Komonは「CLIベースの軽量ツール」として設計**
  - CLI思想と乖離する
  - Komonの「軽量で簡素な魅力」が失われる

- **開発者の興味・専門領域外**
  - Web UI設計は開発者の専門外
  - 実装工数が大幅に増える（HTML/CSS/JS/REST API等）
  - 保守コストが高い

- **実装コストが高すぎる**
  - フロントエンド: HTML/CSS/JavaScript
  - バックエンド: REST API（FastAPI等）
  - 認証・認可: セキュリティ実装
  - デプロイ: Webサーバ設定

#### 方針

**GUI化の対応予定はなし**

Komonは「CLIベースの軽量ツール」として設計されており、
GUI化は今後も実装しない。

**GUIを求める方へ**
- 派生開発・Fork・改変は大歓迎
- バックエンド部品として流用できるようシンプルな設計を維持
- 必要に応じてAPIベースの疎結合設計（FastAPI等）も将来検討可能

#### 代替案

**既存のダッシュボードツールを使用**
- Grafana: メトリクス可視化
- Kibana: ログ可視化
- Prometheus: メトリクス収集

**Komonのデータをエクスポート**
```python
# src/komon/exporters/json.py
def export_to_json(data):
    """JSON形式でエクスポート"""
    return json.dumps(data, indent=2)
```

**外部ツールとの連携**
```bash
# Komonのデータを外部ツールに送信
komon advise --format json | curl -X POST http://dashboard.example.com/api/metrics
```

#### 将来の再検討条件

以下の条件が揃った場合、再検討する可能性がある：
- Komonのユーザー数が大幅に増加（10,000人以上）
- GUI化への強い要望が多数寄せられる
- 開発者がWeb UI設計に興味を持つ
- 軽量なGUI実装の方法が見つかる

ただし、現時点では**実装しない**ことを明確に決定。

---

## 📝 見送りの判断基準

以下の条件に該当する場合、見送りを検討します：

### 1. Komonの思想と相反する
- 「軽量・シンプル」思想と相反
- 「CLIベース」思想と相反
- 「個人開発者・小規模環境」ターゲットから逸脱

### 2. 既存ツールで代替可能
- Grafana, Prometheus, Zabbix等で十分
- Komonが車輪の再発明をする必要はない

### 3. 実装・保守コストが高すぎる
- 実装工数が大幅に増える
- 保守コストが高い
- 開発者の専門外

### 4. エンタープライズ向け機能
- Komonのターゲットから逸脱
- 既存の監視ツールを使うべき領域

---

## 📝 更新履歴

- 2025-12-08: rejected-ideas.md を新規作成、REJECTED-001〜003 を future-ideas.md から移動
- 2025-11-21: REJECTED-001〜003 を future-ideas.md に追加
