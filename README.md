# Komon（顧問）

**Komon は、開発者のための軽量アドバイザー型SOAR風ツールです。**  
開発環境で発生するリソースの過剰使用、ログの急増、更新忘れなどを静かに見守り、  
必要なときだけやさしく通知・提案してくれます。

🛠 Komon は内部構造がシンプルなため、通知手段の追加や監視項目の拡張が容易です。

---

## 🔧 特徴（機能ステータス）

| 機能 | 状況 | 備考 |
|------|------|------|
| ✅ CPU / メモリ / ディスクの監視 | 実装済 | `psutil` による取得・分析 |
| ✅ 閾値判定と警戒通知 | 実装済 | `settings.yml` で設定可能 |
| ✅ Slack通知／メール通知 | 実装済 | 通知ON/OFF、両方対応 |
| ✅ 使用履歴の世代保存 | 実装済 | 最大95世代まで自動ローテーション |
| 🟡 CLI操作（例：`komon advise`） | 構想済 | 実装予定、対話型通知を想定 |
| 🟡 履歴ベースの傾向分析 | 構想済 | グラフ生成／急増傾向の検知予定 |
| 🟡 pip / OS更新の提案 | 構想済 | 自動実行せず、対話式通知のみ |
| 🟡 systemctl 再起動の提案 | 構想済 | サービス監視と連動予定 |
| ❌ エラーログの急増検知 | 未実装 | ログ監視ロジックは未着手 |

---

## 🎯 想定ユースケース

- **VPSや自宅サーバ**で常駐させ、自作スクリプトの影響を見守る
- 開発中のコードが**どれだけリソースを消費するか**を事前に把握
- **昨日ログ急増してたよ**とSlackでやさしく教えてくれる存在

---

## 📊 通知と保存の仕組み

- **閾値超過**時は即時通知（Slack / メール）
- **履歴ファイル（CSV）**は最大95件を保存（約3ヶ月相当）
- **通知方法は個別にON/OFF設定可能**
  - `notifications.slack.enabled`
  - `notifications.email.enabled`

---

## 💬 今後のロードマップ（予定）

- [ ] ログファイルの傾向分析（時間帯別・日別）
- [ ] 使用履歴からの異常傾向検出（スパイク通知など）
- [ ] `komon advise` による対話型提案（Slack送信含む）
- [ ] pip / OS更新提案（環境別・安全な範囲で）
- [ ] systemctlの再起動／コマンド提案（過負荷時）

---

## 🚀 導入方法（準備中）

1. `git clone https://github.com/kanonabe/Komon.git`
2. `cd Komon`
3. `python main.py`
※ 実行前に `settings.yml` をプロジェクトルートに配置してください。

※ 現在は開発中のため、仕様が大きく変わる可能性があります

---

## 📄 ライセンス

MIT License により、個人・商用利用、改変・再配布が自由に許可されています。

---

## 👤 作者について

開発者：[@kamonabe](https://github.com/kamonabe)  
「自分が欲しいと思ったものを形にして公開してみる」がこのプロジェクトの原点です。
